<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chatbot</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    :root {
      --rosa-bebe: #f291b3;
      --celeste-bebe: #225ece;
      --blanco-crema: #FFFBFB;
      --rosa-hover: #FC68A0;
      --gris-oscuro-texto: #385c6e;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f7;
      color: #333;
      margin: 0;
      padding: 0;
      font-size: 15px;
    }
    header {
      background: linear-gradient(20deg, #225ece 0%, #e03579 100%);
      color: white;
      padding: 28px 18px;
      text-align: center;
      position: relative;
      box-shadow: 0 4px 10px #92b1eb;
    }
    header h1 {
      margin-bottom: 6px;
      margin-top: 0;
      font-size: 2.2rem;
      letter-spacing: 1px;
      font-weight: 700;
    }
    header p {
      font-size: 1.04rem;
      font-weight: 600;
      opacity: 0.92;
      margin: 0;
      font-style: italic;
      letter-spacing: .2px;
    }
    main {
      max-width: 850px;
      margin: 40px auto 60px;
      padding: 0 20px;
    }
    .chat-box {
      height: 500px;
      overflow-y: auto;
      border: 1.5px solid var(--celeste-bebe);
      padding: 15px;
      border-radius: 15px;
      background: #f1f5ff;
      margin-bottom: 22px;
      font-size: 1.00em;
      color: #385c6e;
      font-weight: 500;
    }
    .user, .bot, .bot1,
.user *, .bot *, .bot1 * {
  font-size: 1em !important;
  font-family: 'Segoe UI', Arial, Helvetica, sans-serif !important;
  line-height: 1.27 !important;
  font-weight: 500 !important;
  color: #385c6e !important;
  text-align: left !important;
}
    /* Mensajes del chat */
    .user, .bot, .bot1 {
      font-size: 1.00em;
      line-height: 1.27;
      font-weight: 500;
      padding: 7px 12px;
      border-radius: 12px;
      margin-bottom: 10px;
      max-width: 98%;
      box-sizing: border-box;
    }
    .user {
      text-align: left;
      color: #0c3277;
      background: #d5dffc;
      display: inline-block;
      min-width: 140px;
      margin-bottom: 10px;
      margin-top: 8px;
      font-family: 'Segoe UI', Arial, Helvetica, sans-serif;
    }
    .bot {
      text-align: left;
      color: #385c6e;
      margin-left: 5%;
      word-break: break-word;
      text-align: justify;
      font-family: 'Segoe UI', Arial, Helvetica, sans-serif;
    }
    .bot1 {
      color: #225ece;
      font-style: italic;
      font-weight: 500;
      text-align: left;
    }
    /* Listas y p√°rrafos igual que el chat, pero letra negra */
    ul, ol {
      padding-left: 22px;
      margin-top: 0;
      margin-bottom: 0;
    }
  li, p {
  font-size: 1.00em;  /* Igual que .user y .bot */
  line-height: 1.27;
  font-weight: 500;
  color: #385c6e;
  margin-bottom: 10px;
  font-family: 'Segoe UI', Arial, Helvetica, sans-serif;
  max-width: 98%;
  box-sizing: border-box;
  padding-right: 12px;
  text-align: left;
}
.user, .bot, .bot1,
.user *, .bot *, .bot1 * {
  font-size: 1.00em !important;
  font-family: 'Segoe UI', Arial, Helvetica, sans-serif !important;
  line-height: 1.27 !important;
  font-weight: 500 !important;
}
    ul li:last-child,
    p:last-child {
      margin-bottom: 0;
    }
    .input-container {
      display: flex;
      gap: 10px;
      margin-top: 6px;
      margin-bottom: 4px;
    }
    input[type="text"] {
      flex-grow: 1;
      padding: 12px 14px;
      border: 1.5px solid var(--rosa-bebe);
      border-radius: 15px;
      font-size: 1.00em;
      font-weight: 500;
      outline: none;
      color: #c2185b;
      transition: border 0.2s;
      box-shadow: 0 1px 4px #f291b324;
    }
    input[type="text"]:focus {
      border: 1.5px solid var(--rosa-hover);
      background: #fff0fa;
    }
    button.send-btn {
      background:#f291b3;
      color: #000000;
      border: none;
      padding: 10px 22px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.05em;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(194, 24, 91, 0.3);
      transition: background 0.3s, box-shadow 0.2s, transform 0.2s;
      user-select: none;
      letter-spacing: 0.04em;
      display: flex;
      align-items: center;
    }
    button.send-btn:hover {
      background:#f291b3;
      color: #fff;
      box-shadow: 0 7px 22px rgba(255,127,80,0.22);
      transform: translateY(-2px) scale(1.04);
    }
    .button-container {
      text-align: center;
      margin-top: 40px;
    }
    .cta-button {
      padding: 12px 73px;
      align-self: center;
      width: auto;
      min-width: 0;
      background:#d5dffc;
      color: #0c3277;
      border: none;
      border-radius: 22px;
      font-size: 1.06em;
      font-weight: 720;
      cursor: pointer;
      transition: all 0.28s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
      margin-bottom: 1px;
      margin-top: 1px;
    }
    .cta-button::before {
      content: '';
      position: absolute;
      top: 0; left: -100%; width: 100%; height: 100%;
      background: rgba(255,255,255,0.21);
      transform: skewX(-20deg);
      transition: all 0.7s cubic-bezier(0.165,0.84,0.44,1);
    }
    .cta-button:hover::before {
      left: 100%;
    }
    .cta-button:hover {
      background: linear-gradient(45deg, var(--rosa-hover), var(--rosa-bebe));
      color: #4e0121;
      transform: translateY(-2.5px) scale(1.03);
      box-shadow: 0 7px 22px rgba(255,127,80,0.29);
    }
    .cta-button:active {
      transform: translateY(0) scale(1);
      box-shadow: 0 2px 8px rgba(255,127,80,0.14);
    }
    @media (max-width: 600px) {
      main {
        padding: 0 5px;
      }
      .chat-box {
        font-size: 0.95em;
        height: 280px;
      }
      .user, .bot, .bot1 {
        font-size: 0.95em;
        padding: 6px 8px;
      }
      li, p {
        font-size: 0.95em;
        padding-right: 6px;
      }
      input[type="text"] {
        font-size: 0.98em;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Chatbot Informativo</h1>
  </header>
  <main>
    <div class="chat-box" id="chatBox">
      <div class="bot1">ü§ñ ¬°Hola! Soy tu asistente virtual. Preg√∫ntame lo que desees sobre el embarazo: s√≠ntomas, etapas, alimentaci√≥n, cuidados, controles y m√°s.</div>
      <i><b><center>Por favor, solo consultas sobre embarazo. Otros temas no ser√°n respondidos.</center></b></i>
    </div>
    <div class="input-container">
      <input type="text" id="userInput" placeholder="Escribe tu pregunta sobre embarazo..." autocomplete="off" />
      <button class="send-btn" onclick="sendMessage()">‚û§</button>
    </div>
    <section class="button-container">
      <a href="../principal.html" class="cta-button">‚¨ÖÔ∏è Volver</a>
    </section>
  </main>
  <script>
    const chatBox = document.getElementById('chatBox');
    const userInput = document.getElementById('userInput');
const KNOWLEDGE = [
  {
    keywords: [/que es/i, /definicion/i, /explica/i, /embarazo/i],
    answer: `El embarazo es el proceso en el que se desarrolla un beb√© dentro del √∫tero de la mujer, desde la fecundaci√≥n del √≥vulo hasta el nacimiento. Dura aproximadamente 40 semanas y se divide en tres trimestres, cada uno con diferentes cambios y cuidados importantes. ¬øTe gustar√≠a saber sobre etapas, s√≠ntomas, alimentaci√≥n o cuidados?`
  },
  {
    keywords: [/sintoma/i, /signos/i, /como saber/i, /detectar/i, /manifestacion/i, /prueba/i, /test/i, /confirmar/i],
    answer: `Los s√≠ntomas tempranos del embarazo pueden incluir:
<ul>
  <li>Ausencia de menstruaci√≥n</li>
  <li>Sensibilidad o hinchaz√≥n en los senos</li>
  <li>N√°useas o v√≥mitos (especialmente en la ma√±ana)</li>
  <li>Cansancio o sue√±o excesivo</li>
  <li>Ganas frecuentes de orinar</li>
  <li>Cambios de humor</li>
  <li>La forma m√°s confiable de confirmarlo es un test de embarazo en orina o sangre</li>
</ul>`
  },
  {
    keywords: [/prevencion/i, /prevenir/i, /cuidado/i, /consejo/i, /evitar/i, /recomendacion/i],
    answer: `Algunos consejos para un embarazo saludable:
<ul>
  <li>Acudir a controles m√©dicos prenatales desde el inicio</li>
  <li>Tomar √°cido f√≥lico y vitaminas indicadas</li>
  <li>Evitar alcohol, tabaco y drogas</li>
  <li>Alimentarse de forma equilibrada</li>
  <li>Realizar actividad f√≠sica suave (caminar, yoga, etc.)</li>
  <li>Descansar lo suficiente</li>
  <li>Evitar automedicarse</li>
</ul>`
  },
  {
    keywords: [/alimento/i, /comida/i, /nutricion/i, /dieta/i, /que comer/i, /alimentacion/i],
    answer: `La alimentaci√≥n en el embarazo debe ser variada, rica en frutas, verduras, prote√≠nas magras, cereales integrales y l√°cteos. Se recomienda:
<ul>
  <li>Consumir pescado, huevo, legumbres, carnes magras y semillas</li>
  <li>Evitar alimentos crudos o poco cocidos (carne, huevo, pescados)</li>
  <li>Beber suficiente agua</li>
  <li>Reducir el consumo de az√∫cares y ultraprocesados</li>
  <li>Lavar siempre bien frutas y verduras</li>
</ul>`
  },
  {
    keywords: [/control/i, /consulta/i, /visita/i, /medico/i, /ginecolog/i, /ecografia/i, /analisis/i],
    answer: `Los controles prenatales permiten monitorear la salud de la madre y el beb√©, detectar problemas a tiempo y recibir acompa√±amiento profesional. Incluyen:
<ul>
  <li>Ecograf√≠as para seguir el crecimiento</li>
  <li>An√°lisis de sangre y orina</li>
  <li>Medici√≥n de peso, presi√≥n arterial y altura uterina</li>
  <li>Consejos sobre alimentaci√≥n y actividad f√≠sica</li>
  <li>Es importante no saltarse las consultas, ¬°incluso si te sientes bien!</li>
</ul>`
  },
  {
    keywords: [/ejercicio/i, /actividad fisica/i, /deporte/i, /caminar/i, /yoga/i],
    answer: `La actividad f√≠sica moderada es segura y beneficiosa durante el embarazo (a menos que tu m√©dico indique lo contrario). Ayuda a mejorar el √°nimo, el sue√±o y la circulaci√≥n, y a prepararte para el parto. Ejemplos:
<ul>
  <li>Caminar diariamente</li>
  <li>Yoga prenatal</li>
  <li>Nataci√≥n</li>
  <li>Estiramientos suaves</li>
  <li>Evita deportes de contacto o alto impacto.</li>
</ul>`
  },
  {
    keywords: [/medicina|medicamento|pastilla|remedio|paracetamol|ibuprofeno|farmaco|automedica/i],
    answer: `Durante el embarazo, evita automedicarte. Solo toma medicamentos recetados por tu profesional de salud, ya que algunos pueden afectar al beb√©. Si tienes molestias o s√≠ntomas, consulta siempre antes de tomar cualquier pastilla, remedio o suplemento.`
  },
  {
    keywords: [/emocion|miedo|ansiedad|apoyo|psicolog|sentimiento|triste|estres/i],
    answer: `Durante el embarazo es normal sentir emociones intensas: alegr√≠a, miedo, ansiedad, dudas. Si te sientes abrumada:
<ul>
  <li>Habla con personas de confianza</li>
  <li>Busca acompa√±amiento psicol√≥gico si lo necesitas</li>
  <li>Participa en grupos de apoyo</li>
  <li>Haz ejercicios de respiraci√≥n y relajaci√≥n</li>
</ul>`
  },
  {
    keywords: [/parto/i, /nacimiento/i, /dolor/i, /contraccion/i, /romper fuente/i, /senales/i, /preparar/i],
    answer: `Las se√±ales de inicio de parto pueden ser:
<ul>
  <li>Contracciones regulares e intensas</li>
  <li>P√©rdida del tap√≥n mucoso</li>
  <li>Rotura de bolsa (salida de l√≠quido)</li>
  <li>Dolor lumbar persistente</li>
  <li>Prepara tu bolso con tiempo y ten a mano los n√∫meros de emergencia y de tu centro de salud.</li>
</ul>`
  },
  {
    keywords: [/semana/i, /trimestre/i, /mes/i, /cuanto dura/i, /cuantas semanas/i, /etapa/i],
    answer: `El embarazo dura aproximadamente 40 semanas (9 meses) y se divide en tres trimestres:
<ul>
  <li><b>Primer trimestre</b>: principales cambios hormonales y formaci√≥n de √≥rganos</li>
  <li><b>Segundo trimestre</b>: el beb√© crece, suelen mejorar las molestias</li>
  <li><b>Tercer trimestre</b>: mayor crecimiento y preparaci√≥n para el parto</li>
</ul>`
  },
  {
    keywords: [/bebe/i, /feto/i, /desarrollo/i, /movimiento/i, /patada/i, /crece/i],
    answer: `El desarrollo del beb√© es continuo:
<ul>
  <li>Desde la semana 8 se considera feto</li>
  <li>Notar√°s movimientos a partir de la semana 18-22</li>
  <li>Cada semana, √≥rganos y sentidos se desarrollan m√°s</li>
  <li>Los controles permiten monitorear su salud y crecimiento</li>
</ul>`
  },
  {
    keywords: [/complicacion|preeclampsia|diabetes gestacional|sangrado|riesgo/i],
    answer: `Algunas complicaciones del embarazo pueden requerir atenci√≥n m√©dica inmediata:
<ul>
  <li><b>Preeclampsia:</b> presi√≥n alta, hinchaz√≥n y prote√≠nas en la orina.</li>
  <li><b>Diabetes gestacional:</b> niveles altos de az√∫car durante el embarazo.</li>
  <li><b>Infecciones urinarias:</b> frecuentes en el embarazo, deben tratarse para evitar riesgos.</li>
  <li><b>Sangrado vaginal:</b>Consulta si ocurre, especialmente en el segundo o tercer trimestre.</li>
</ul>`
  },
  {
    keywords: [/sangrado|flujo|perdida|liquido|tap√≥n mucoso|romper fuente/i],
    answer: `Durante el embarazo, algunos flujos pueden ser normales, pero otros no. Atenci√≥n a:
<ul>
  <li><b>Sangrado vaginal:</b> puede indicar amenaza de aborto, placenta previa u otras complicaciones.</li>
  <li><b>P√©rdida de l√≠quido transparente:</b> podr√≠a ser ruptura de la bolsa (romper fuente).</li>
  <li><b>Tap√≥n mucoso:</b> secreci√≥n espesa y a veces con sangre. Es normal al acercarse el parto.</li>
</ul>`
  },
  {
    keywords: [/sexo|relacion|intimidad|sexualidad|coito/i],
    answer: `En general, tener relaciones sexuales durante el embarazo es seguro, salvo que el m√©dico indique lo contrario.
<ul>
  <li>Evita si hay sangrados, contracciones, placenta previa o riesgo de parto prematuro.</li>
  <li>Usa posturas c√≥modas y suaves, especialmente en el tercer trimestre.</li>
  <li>La comunicaci√≥n en pareja es importante para sentirse c√≥modos y seguros.</li>
</ul>`
  },
  {
    keywords: [/lactancia|amamantar|dar de mamar|leche materna/i],
    answer: `La lactancia materna es el alimento ideal para el reci√©n nacido. Beneficios:
<ul>
  <li>Proporciona todos los nutrientes que el beb√© necesita.</li>
  <li>Refuerza el sistema inmune.</li>
  <li>Favorece el v√≠nculo madre-beb√©.</li>
  <li>Ayuda a la recuperaci√≥n postparto (contracci√≥n del √∫tero).</li>
</ul>`
  },
  {
    keywords: [/vacuna|vacunacion|inmunizacion|tos ferina|influenza|covid/i],
    answer: `Durante el embarazo, hay vacunas recomendadas para protegerte a ti y al beb√©:
<ul>
  <li><b>T√©tano, difteria y tos ferina (Tdap):</b> entre las semanas 27 y 36.</li>
  <li><b>Influenza (gripe):</b> en cualquier trimestre.</li>
  <li><b>COVID-19:</b> si est√°s en riesgo o no has completado el esquema, consulta con tu m√©dico.</li>
</ul>`
  },
  {
    keywords: [/trabajo|descanso|licencia|esfuerzo|recomienda trabajar/i],
    answer: `Si tu embarazo transcurre normalmente, puedes seguir trabajando con algunas recomendaciones:
<ul>
  <li>Evita levantar peso o permanecer mucho tiempo de pie o sentada.</li>
  <li>Haz pausas para caminar o estirar las piernas.</li>
  <li>Prioriza el descanso y el sue√±o reparador.</li>
  <li>En Per√∫, la licencia por maternidad dura 98 d√≠as: 49 antes y 49 despu√©s del parto.</li>
</ul>`
  },
  {
    keywords: [/hola|saludo|buenas/i],
    answer: `¬°Hola! ¬øEn qu√© puedo ayudarte sobre embarazo, cuidados, s√≠ntomas o alimentaci√≥n?`
  },
  {
    keywords: [/gracias|agradecid/i],
    answer: `¬°De nada! Si tienes otra pregunta sobre embarazo, aqu√≠ estoy para ti.`
  },
  {
    keywords: [/adios|chau|hasta luego|nos vemos/i],
    answer: `¬°Hasta luego! Recuerda que puedes volver cuando lo necesites. Tu bienestar es lo m√°s importante.`
  }
];
const OUT_OF_SCOPE = [
  /cancer|mama|seno|inteligencia artificial|tecnolog|politic|futbol|clima|presidente|perro|gato|musica|pais|historia|matematic|gpt|openai|modelo|red neuronal|quimica|covid|influenza|diabetes|corazon|ri√±on|pulmon|computadora|celular|telefono|juego|pelicula|actor|artista|viaje|vacacion|universidad|trabajo|dinero|criptomoneda|bitcoin|cocina|receta/i
];
    function appendMessage(message, sender) {
      const div = document.createElement('div');
      div.className = sender;
      div.innerHTML = message.replace(/\n/g, "<br>");
      chatBox.appendChild(div);
      chatBox.scrollTop = chatBox.scrollHeight;
    }
    function sendMessage() {
      let text = userInput.value.trim();
      if (text === "") return;
      appendMessage(text, 'user');
      userInput.value = "";
      userInput.disabled = true;
      setTimeout(() => {
        const response = getBotResponse(text);
        appendMessage(response, 'bot');
        userInput.disabled = false;
        userInput.focus();
      }, 900);
    }
    function getBotResponse(input) {
      // Primero, si detecta palabras fuera de tema, rechaza la pregunta
      for (let out of OUT_OF_SCOPE) {
        if (out.test(input)) {
          return `Lo siento, solo puedo responder preguntas sobre <b>embarazo</b>.<br>
          ¬øTienes dudas sobre s√≠ntomas, etapas, alimentaci√≥n, controles u otros aspectos de esta etapa? ¬°Estoy aqu√≠ para ayudarte!`;
        }
      }
      // Busca respuesta adecuada en la base de conocimiento
      for (let item of KNOWLEDGE) {
        for (let k of item.keywords) {
          if (k.test(input)) {
            return item.answer;
          }
        }
      }
      // Si no encuentra respuesta, intenta ser humana
      return `No tengo informaci√≥n precisa sobre esa consulta. Puedo ayudarte con preguntas sobre:
      <p>‚Ä¢ S√≠ntomas<br>
      ‚Ä¢ Etapas y semanas<br>
      ‚Ä¢ Alimentaci√≥n<br>
      ‚Ä¢ Controles m√©dicos<br>
      ‚Ä¢ Preparaci√≥n para el parto, entre otros.</i>`;
    }
    userInput.addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        sendMessage();
      }
    });
  </script>
</body>
</html>
